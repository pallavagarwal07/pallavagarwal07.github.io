<title>Linux commands every user should master - VARSTACK</title>
<div id="fb-root"></div>
<script>(function(d, s, id) {
var js, fjs = d.getElementsByTagName(s)[0];
if (d.getElementById(id)) return;
js = d.createElement(s); js.id = id;
js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5";
fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
var host = "varstack.com";
var hostwww = "www.varstack.com";
if (((host == window.location.host) || (hostwww == window.location.host))
        && (window.location.protocol != 'https:'
            || window.location.toString().match(/http.?:\/\/var/))){
  window.location = window.location.toString().replace(/^http:/, "https:").replace(/https:\/\/varstack/, "https://www.varstack");
}
</script>
<meta name=viewport content="width=device-width, initial-scale=1">
<meta charset="utf-8"/>

<noscript>
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/highlighting.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
    
    
</noscript>

<script id="loadcss">function loadCSS(e,n,o,t){"use strict";var d=window.document.createElement("link"),i=n||window.document.getElementsByTagName("script")[0],r=window.document.styleSheets;return d.rel="stylesheet",d.href=e,d.media="only x",t&&(d.onload=t),i.parentNode.insertBefore(d,i),d.onloadcssdefined=function(e){for(var n,o=0;o<r.length;o++)r[o].href&&r[o].href===d.href&&(n=!0);n?e():setTimeout(function(){d.onloadcssdefined(e)})},d.onloadcssdefined(function(){d.media=o||"all"}),d}
loadCSS( "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css", document.getElementById("loadcss"));
loadCSS( "/css/highlighting.css", document.getElementById("loadcss"));
loadCSS( "/css/style.css", document.getElementById("loadcss"));
    
    
</script>

<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
<!--[if lt IE 9]>
    <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    
    <div class="container">
        <div class="row" id="menu">
            <div class="col-sm-2 col-xs-2 menu" id="site_title">
                <a href="/" style="color:black;">
                    <img src="/img/logo.png" style="max-height:90%;">
                </a>
            </div>
            <div class="col-sm-6 col-xs-10 menu">
                <div class="row" id="top_menu">
                    <ul class="nav nav-pills">
                        <li class="active" id="blog"><a class="color_change" href="/">Blog</a></li>
                        <li class="" id="tips"><a class="color_change" href="/tips/">Tips</a></li>
                        <li class="" id="algo"><a class="color_change" href="/algo/">Behind The Scenes</a></li>
                        <li class="" id="about"><a class="color_change" href="/about_me/">About Me</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-sm-4 col-xs-12 menu">
                <form action="/search/" id='search-form'>
                    <input id="search-box" type="text" name="query" placeholder="Search..">
                </form>
            </div>
        </div>
        
        <div class="row" id="content">
            <div class="col-md-7 col-md-push-3">
                <div class="row" id="data">
                    <div class="col-md-12">
                        <br />
                        <h3>Linux commands every user should master</h3>
                        <hr />
                        <div class="row text-justify" id="content-holder">
                            <div class="col-md-12">
                                <p>When it comes to linux, there are some commands that you can't live without and
then there are some you <em>shouldn't</em> live without. I mean sure, you can live your
life without ever using <code>grep</code> or <code>find</code> but you'd never believe how much
productive knowing a few more terminal commands can make you.</p>

<p>Here is a list of the commands we are going to take a look at:</p>

<ol>
<li><em>man</em></li>
<li><em>grep</em></li>
<li><em>find</em></li>
<li><em>sed</em></li>
</ol>


<p><br/></p>

<h4><strong>The command that started it all: <em>man</em></strong></h4>

<p>I really hope you know this one. But in case you don't, well today is your
lucky day. This command is really special because it will, from today onwards
be your first guide to using <strong>any</strong> terminal command. <code>man</code> stands for
<em>manual</em> and is literally your handbook of linux commands. Any time you are
wondering how to use a command, <code>sed</code> for example, open up your terminal and
type</p>

<pre><code>man &lt;command&gt;
</code></pre>

<p>or as in this case,</p>

<pre><code>man sed
</code></pre>

<p>and it will give you a quick summary of what the command is, and how to use
it. There isn't anything more than that to it, yet I use it multiple times
everyday when I forget the syntax of <code>chmod</code> command or have forgotten how
the <code>bash time</code> command is different from that packaged with <code>zsh</code>.</p>

<p><br/></p>

<h4><strong>Search through files, content, outputs, basically anything: <em>grep</em></strong></h4>

<p>This one is basically a search command. But unlike the upcoming <code>find</code> command,
this one doesn't search for just the names of files. It searches through their
content as well. Not only that, it is also super handy when you have to filter
out lines that contain some specific content from let's say a huge output from
previous command. This command takes getting some used to, but after some time,
you wouldn't even believe you used to be able to get any work without it. Let's
start, shall we?</p>

<ul>
<li><p><strong>Content from files</strong></p>

<p>Let's say you want to search for any files in which you have TODO written
inside (as in code comments maybe?) also, you want the search to be case
insensitive and search all subfolders of current folder too (recursively).
You'd write:</p>

<pre><code>grep -i -r TODO .
</code></pre>

<p>Now, I suggest you look up the flags (those dash followed by characters) I
used in the above command using <code>man grep</code>. I will still tell you in case
you don't have a means to run the <code>man</code> command right now.</p>

<p>The <code>-i</code> flag is for case-insensistive search.</p>

<p>The <code>-r</code> searches sub-folders recursively.</p>

<p><code>TODO</code> is the phrase we want to search for. You can even use regex
expressions (which is where the true power lies), and that seems to be true
for many linux commands you'll learn in future.</p>

<p><code>.</code> is the usual symbol for current directory. <code>..</code> can be used for parent
directory, or a directory name can be given, relative to the current
directory.</p></li>
<li><p><strong>Content from stdin or <em>pipe</em></strong></p>

<p>If the last parameter <code>file or folder name to search</code> in previous command
is not provided, then <code>grep</code> tries to search in <code>stdin</code>. Now, that doesn't
mean you actually have to type the content, but being able to take content
from stdin allows grep to use something much more useful in linux - <strong>pipes</strong>!
What a pipe or <code>|</code> does is that it sends the output of one command as stdin
to another. Thus, a command like:</p>

<pre><code>ls | grep -i txt
</code></pre>

<p>will execute <code>ls</code> and then take that output and give it to <code>grep</code>. Now grep
will execute its search on this content (output of <code>ls</code>). Thus, in above
example, it will search for lines that will have txt in them.</p></li>
</ul>


<p><br/></p>

<h4><strong>The plain old but much more powerful than you thought <em>find</em> command</strong></h4>

<p>The <code>find</code> command is one of the most used commands in Linux.
<code>find</code> command is used to search and locate list of files and directories
matching arguments you specify.  <code>find</code> can be used in variety of conditions
with its various flags to find files by permissions, users, groups, file type,
date, size and other possible criteria.  The format for the <code>find</code> command is a
little unintuitive for those with a habit of using <code>grep</code> or <code>ag</code>. Like always,
I'd advice you to read the man page for <code>find</code> using <code>man find</code> command.</p>

<ul>
<li><p><strong>Files by their name</strong></p>

<p>To find a file by its name, just use the following format:</p>

<pre><code>find &lt;directory&gt; -name &lt;name&gt;
</code></pre>

<p>So, if you want to search for a file named <code>abc.txt</code> in current directory, you
can do</p>

<pre><code>find . -name "abc.txt"
</code></pre>

<p>or</p>

<pre><code>find . -name "*.txt"
</code></pre>

<p>to find all files ending with <code>.txt</code></p>

<p>Note that the only compulsory argument is the directory name. The <code>-name</code> is
just to filter the files by name. And as you may have guessed, there are a lot
more filters at your disposal.
This will also search all sub-directories in the current folder recursively.</p></li>
<li><p><strong>Files using advanced filters</strong></p>

<p>Let's look at the following command:</p>

<pre><code>find -maxdepth 4 -amin +3 -iname "PaLLaV" -size -4M -type f -user root
</code></pre>

<p>This is an example of how multiple filters can be chained up to create an
advanced search.</p>

<ul>
<li><p><code>-maxdepth 4</code> will go at max 4 levels down (in
subdirectories) while searching.</p></li>
<li><p><code>-amin +3</code> will keep only those files that were last accessed <strong>more than</strong>
3 minutes ago (notice the <code>+</code> in <code>+3</code>).</p></li>
<li><p><code>-iname "PaLLaV"</code> will search for files with name <code>pallav</code> WITHOUT caring
about case sensitivity (<code>-name</code> would've been case sensitive).</p></li>
<li><p><code>-size -4M</code> will only choose those results that are <strong>less than</strong> 4MegaBytes
because of <code>-</code> in <code>-4M</code>.</p></li>
<li><p><code>-type f</code> will filter out the files and ignore the directories.</p></li>
<li><p><code>-user root</code> will only give out the files that are owned by <code>root</code>.</p></li>
</ul>
</li>
</ul>


<p>As you may have guessed, these are <em>not</em> the only filters you can use. There are
actually tons more. You can literally phrase the command to find any file you
lost on your hard drive and only remember vague details about.</p>

<p><br/></p>

<h4><strong>The stream editor with all powers of an editor: <em>sed</em> </strong></h4>

<p>I know I promised you a tutorial of <em>sed</em>, but the fact is, there is no way I
can do justice to its power in a few paragraphs. So, instead I'm going to refer
you to <a href="http://www.grymoire.com/Unix/Sed.html#uh-0">this</a> tutorial. It's long,
but I really recommend you go through the starting parts. <em>sed</em> has terrible
documentation and <code>man sed</code> doesn't help a lot in this case, because just
knowing the format of commands doesn't bring out its power at all. If you aren't
sold yet, I'll give you an easy example of <code>sed</code> usage. Let's say you ran
<code>ifconfig</code> and got the output:</p>

<pre><code>enp9s0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 172.24.8.63  netmask 255.255.255.255  broadcast 172.24.8.63
        inet6 fe80::f276:1cff:fe0b:b377  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether f0:76:1c:0b:b3:77  txqueuelen 1000  (Ethernet)
        RX packets 2578393  bytes 3323277819 (3.0 GiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 1368479  bytes 189953405 (181.1 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;
        loop  txqueuelen 0  (Local Loopback)
        RX packets 529  bytes 1361550 (1.2 MiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 529  bytes 1361550 (1.2 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</code></pre>

<p>but you just want the output to be type followed by ip addr, for every ip
address as in:</p>

<pre><code> inet 172.24.8.63
 netmask 255.255.255.255
 broadcast 172.24.8.63

 inet 127.0.0.1
 netmask 255.0.0.0
</code></pre>

<p>Let's try to make the output like that:</p>

<ol>
<li><p>First grep to filter out the lines that have IP addresses.</p>

<pre><code>ifconfig | grep -P "(\d{1,3}\.){3}\d{1,3}"
</code></pre>

<p>Couple of things to note: The <code>-P</code> is for using perl type regex.
This allows us to use <code>\d</code> for digits, in sed we'll still have to
use <code>[0-9]</code> as <code>\d</code> format isn't supported. Then we say that there
will be atleast 1 and at most 3 digits <code>{1,3}</code>. Then it will be
followed by a dot <code>\.</code>. Read up on regex if you don't know why the
dot has been preceded by a <code>\</code>. Then this whole group (digits and dot)
is repeated exactly 3 times, followed by another group of 1-3 digits.</p>

<p>This filters out the lines with IP addresses as in:</p>

<pre><code>    inet 172.24.8.63  netmask 255.255.255.255  broadcast 172.24.8.63
    inet 127.0.0.1  netmask 255.0.0.0
</code></pre></li>
<li><p>Now we use sed to add newlines after every IP address.</p>

<pre><code>sed -r "s|([0-9]{1,3}\.){3}[0-9]{1,3}|\0\n|g"
</code></pre>

<p>Now, the <code>-r</code> is to use extended regular expressions. <code>s</code> is for
substitute command. <code>|</code> is the separator (can be anything not used
in the substitution pattern). This is followed by the same regex
expression as before, but instead of <code>\d</code> we have used <code>[0-9]</code> as
<code>\d</code> isn't supported by <code>sed</code>. Then we use another separator <code>|</code>.
Then we have the substitution content. <code>\0</code> just puts the whole
pattern that was matched. This is needed as we do not want to delete
the original content. The <code>\n</code> is for a newline. The <code>|g</code> is another
separator followed by <code>global</code> without which only the first match in
every line will be replaced. Now the output is:</p>

<pre><code>        inet 172.24.8.63
  netmask 255.255.255.255
  broadcast 172.24.8.63

        inet 127.0.0.1
  netmask 255.0.0.0
</code></pre>

<p>Unfortunately, the formatting doesn't look too good.</p></li>
<li><p>Let's add a new sed command to eat all the beginning spaces:</p>

<pre><code>sed -r "s|^ *||"
</code></pre>

<p>This one's easy, by using <code>^</code>, we are substituting for all the spaces
in the beginning of the line and replacing with nothing.
This gives us the final output:</p>

<pre><code>inet 172.24.8.63
netmask 255.255.255.255
broadcast 172.24.8.63

inet 127.0.0.1
netmask 255.0.0.0
</code></pre></li>
</ol>


<p>Note, our final command thus will be:</p>

<pre><code>ifconfig | grep -P "(\d{1,3}\.){3}\d{1,3}" | sed -r
    "s|([0-9]{1,3}\.){3}[0-9]{1,3}|\0\n|g" | sed -r "s|^ *||"
</code></pre>

<p>and while this might seem like too much work, think about how much you'd
have to write if you were to create a script to do these transformations
using C++ or python. These commands allow creation of really clean and
compact scripts (<em>OK, maybe <strong>just</strong> compact scripts</em>).</p>

<p><strong>Now, that you know the secrets, get cracking!</strong>
<br/><br/></p>

<p><em>I hope you enjoyed reading this post.</em></p>

<p><strong>Consider sharing this article using the links below.</strong></p>

                            </div>
                        </div>
                    </div>
                </div>
                <hr /><br />
            </div>
            <div class="col-md-3 col-md-pull-7" id="recent">
                <h4>RECENT POSTS</h4>
                <ul class="nav nav-pills nav-stacked">
                    
                    <li>
                        <a href="/2016/09/26/YourHonour-k8s-programming-judge/" class="color_change">YourHonour: A k8s based distributed programming...</a>
                    </li>
                    
                    <li>
                        <a href="/2016/06/09/Bugzilla-Landfills/" class="color_change">Learning from mistakes: Bugzilla Landfills</a>
                    </li>
                    
                    <li>
                        <a href="/2016/05/13/SAT-Solver/" class="color_change">Determining legal USE Flag combinations using...</a>
                    </li>
                    
                    <li>
                        <a href="/2016/05/06/SSH-port-forwarding-and-some-cool-uses/" class="color_change">SSH port forwarding and some cool...</a>
                    </li>
                    
                    <li>
                        <a href="/2016/04/30/Google-Summer-of-Code-with-Gentoo/" class="color_change">Google Summer of Code with Gentoo...</a>
                    </li>
                    
                </ul>
                <h4>RECENT TIPS</h4>
                <ul class="nav nav-pills nav-stacked">
                    
                    <li>
                        <a href="/2016/05/06/Ultimate-control-over-mobile-browser/" class="color_change">Ultimate control over Mobile Browser with...</a>
                    </li>
                    
                    <li>
                        <a href="/2016/04/27/SSH-keys/" class="color_change">Easy sharing of SSH keys</a>
                    </li>
                    
                    <li>
                        <a href="/2015/08/01/SSH-from-Windows/" class="color_change">Using SSH from Windows 10 without...</a>
                    </li>
                    
                    <li>
                        <a href="/2015/07/27/Boost-Python-Performance/" class="color_change">Cython: Boost Python Code Performance</a>
                    </li>
                    
                    <li>
                        <a href="/2015/07/01/Vim-Mappings/" class="color_change">Quick intro to custom Vim Mappings...</a>
                    </li>
                    
                </ul>
                <h4>TAGGED POSTS</h4>
                <ul class="nav nav-pills nav-stacked">
                    
                    <li>
                        <a href="/2016/05/13/Reference-Sheets-and-Useful-Links/" class="color_change">Reference Sheets and Useful Links</a>
                    </li>
                    
                </ul>
                <br />
                <br />
            </div>
            <div class="col-md-2">
            </div>
            <div class="row">
                <div class="col-md-7 col-md-offset-3 col-xs-10 col-xs-offset-1">
                    <div class="row">
                            <div class="col-xs-4">
                                <div class="fb-like" data-href="//www.varstack.com" data-layout="standard" data-action="like" data-show-faces="true" data-share="true"></div>
                            </div>
                            <div class="col-xs-8 text-right">
                                <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
                                <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
                                <script src="/js/script.js"></script>
                                
                                
                                
                            </div>
                    </div>
                    <br/>
                </div>
                <div class="col-md-7 col-md-offset-3 col-xs-10 col-xs-offset-1">
                    <div id="disqus_thread"></div>
                    <script type="text/javascript" async>
/* * * CONFIGURATION VARIABLES * * */
var disqus_shortname = 'varstack';

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-21768487-2', 'auto');
ga('send', 'pageview');
                    </script>
                    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="imagemodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        <span aria-hidden="true">&times;</span>
                        <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel">
                        Image Preview
                    </h4>
                </div>
                <div class="modal-body">
                    <img src="" id="imagepreview" style="max-height: 100%; max-width: 100%;">
                </div>
            </div>
        </div>
    </div>
